<?xml version="1.0" encoding="UTF-8" ?>
<dds>
  <profiles>
    <participant profile_name="fastdds_large_payload" is_default="true">
      <rtps>
        <!-- Buffer sizes -->
        <send_buffer_size>524288</send_buffer_size> <!-- 512 KB -->
        <receive_buffer_size>524288</receive_buffer_size> <!-- 512 KB -->
        <heartbeat_period>100ms</heartbeat_period>
        <nack_response_delay>20ms</nack_response_delay>

        <!-- Fragmentation settings -->
        <fragment_size>16384</fragment_size> <!-- 16 KB -->

        <!-- Transport descriptor reference -->
        <user_transports>
          <transport_id>udp_transport</transport_id>
        </user_transports>
      </rtps>

      <transport_descriptors>
        <transport_descriptor>
          <transport_id>udp_transport</transport_id>
          <type>UDPv4</type>
          <max_message_size>20971520</max_message_size> <!-- 20 MB -->
          <max_initial_peers_range>200</max_initial_peers_range>
        </transport_descriptor>
      </transport_descriptors>

      <data_sharing>
        <kind>OFF</kind> <!-- Disable data sharing for compatibility -->
      </data_sharing>
    </participant>
  </profiles>
</dds>

